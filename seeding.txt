MySQL
=====

Creation
--------

alter table Successors  drop foreign key FKC8FD6E3D23245EF1



alter table Successors  drop foreign key FKC8FD6E3D4BD25B3



alter table Parents  drop foreign key FKF45BDCA34BD25B3



alter table Parents  drop foreign key FKF45BDCA323245EF1


    drop table if exists `Board`

    drop table if exists Successors

    drop table if exists Parents

    create table `Board` (
        Id VARCHAR(40) not null,
       Empty BIGINT,
       Mover BIGINT,
       Ply INTEGER not null,
       primary key (Id)
    )

    create table Successors (
        ParentId VARCHAR(40) not null,
       ChildId VARCHAR(40) not null,
       primary key (ParentId, ChildId)
    )

    create table Parents (
        ChildId VARCHAR(40) not null,
       ParentId VARCHAR(40) not null,
       primary key (ChildId, ParentId)
    )

    alter table Successors
        add index (ChildId),
        add constraint FKC8FD6E3D23245EF1
        foreign key (ChildId)
        references `Board` (Id)

    alter table Successors
        add index (ParentId),
        add constraint FKC8FD6E3D4BD25B3
        foreign key (ParentId)
        references `Board` (Id)

    alter table Parents
        add index (ParentId),
        add constraint FKF45BDCA34BD25B3
        foreign key (ParentId)
        references `Board` (Id)

    alter table Parents
        add index (ChildId),
        add constraint FKF45BDCA323245EF1
        foreign key (ChildId)
        references `Board` (Id)
		
Before Batch Import
===================

load data infile 'c:/users/daniel/programming/gridbook/board.csv' into table board fields terminated by ',';

create table Parents (
        ChildId VARCHAR(40) not null,
       ParentId VARCHAR(40) not null);
load data infile 'c:/users/daniel/programming/gridbook/parents.csv' into table parents fields terminated by ',' lines terminated by '\r\n';

alter table Parents
	add constraint primary key (ChildId, ParentId),
    add index (ParentId),
    add constraint FKF45BDCA34BD25B3
    foreign key (ParentId) references `Board` (Id),
    add index (ChildId),
    add constraint FKF45BDCA323245EF1
    foreign key (ChildId) references `Board` (Id);

PostgreSQL
==========

\copy "Board" from 'C:\Users\Daniel\Programming\GridBook\merged.csv' DELIMITERS ',' CSV;

SQLite:

.import merged.csv Board

MongoDB
=======

GridBook.CommandLine.exe JsonDump -f JA_s26.backup.book > JA_s26.backup.book.json
mongoimport.exe -d gridbook -c json --file JA_s26.backup.book.json --drop
> db.json.ensureIndex( { successors : 1 } );
